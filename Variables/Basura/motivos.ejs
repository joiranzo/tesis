<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />
    <link rel="stylesheet" href="../../css/comun.css">
    <title><%=param.titulo %></title>
</head>

<body>
    <div class="cont-gral">
        <div class="fila_principal">
            <div class="titulo"><%=param.barra %></div>
            <div class="menu_fila col3">
                <a class="material-symbols-outlined bt_nuevo" href="#" 
                    id="bt_nuevo">note_add</a>
                <a class="material-symbols-outlined icon bt_nuevo" href="index.html"
                    title="Inicio">home</a>
            </div>
        </div>
        
        <div class="tabla">
            
            <div class="cabecera">
                <span class="col1"><%=param.campos.campo1.etiqueta%></span>
                <span class="col2"><%=param.campos.campo2.etiqueta%></span>
                <span class="col3"></span>
            </div>
            
            <div class="cuerpo">
                    <!-- Formulario para un nuevo dato -->
                    <form class="fila" style="display: none;" method="post" action="nuevodato" id="fila_nueva">
                        <!-- pagina para el redireccionamiento luego de agregar dato-->
                        <input type="text" readonly name="fuente" style="display: none;" value="<%= param.titulo%>">
                        <!-- Nombre de la tabla a donde se agrega el dato -->
                        <input type="text" readonly name="tabla"  style="display: none;" value="<%= param.titulo%>">
                        <!--  -->
                        <input type="text" class="col1" placeholder="Ingrese código" id="cod_nuevo" name="<%= param.campos.campo1.nombre %>">
                        <input type="text" class="col2" placeholder="Ingrese descripción" id="des_nuevo" name="<%= param.campos.campo2.nombre %>">
                        <div class="col3 menu_fila" >
                            <button class="material-symbols-outlined bt_verde_nuevo" type="submit" id="ok_new">check_circle</button>
                            <button class="material-symbols-outlined bt_rojo_nuevo" type="reset" id="cancel_new">undo</button>
                        </div>
                    </form> 
                    
                    <!-- Formularios para la edición de los datos -->
                <% param.datos.forEach((dato)=>{ %>
                    <form class="fila_hover" method="post" >
                        <!-- pagina para el redireccionamiento luego de agregar dato-->
                        <input type="text" readonly name="fuente" style="display: none;" value="<%= param.titulo%>">
                        <!-- Nombre de la tabla a donde se agrega el dato -->
                        <input type="text" name="tabla"  style="display: none;" value="<%= param.titulo%>">
                        <!-- Nombre de clave primaria de la tabla -->
                        <input type="text" name="prikey" style="display: none;" value="<%= param.campos.campo1.nombre %>">
                        <!-- Primera columna -->
                        <input type="text" class="col1" readonly name="<%= param.campos.campo1.nombre %>" value="<%= dato[param.campos.campo1.nombre] %> ">
                        <!-- Segunda columna -->
                        <input class="editable col2" disabled type="text" name="<%= param.campos.campo2.nombre %>" value="<%= dato[param.campos.campo2.nombre] %> ">
                        <div class="col3 menu_fila" >
                            <button class="material-symbols-outlined bt_verde" style="display:none" type="submit">check_circle</button>
                            <button class="material-symbols-outlined bt_rojo"  style="display:none" type="reset">undo</button>
                            <button class="material-symbols-outlined bt_azul"  type="button">edit</button>
                            <button class="material-symbols-outlined bt_delete" style="display:none" type="submit">delete</button>
                        </div>
                    </form>    
                <% }); %> 
            </div>
        </div>

    </div>
</body>
<script src="/js/comun.js"></script>
</html>